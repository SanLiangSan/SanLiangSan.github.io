<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  
  
    <meta name="keywords" content="ios开发，objc底层，移动开发，apple,objc,objective-c,object-c,ios底层，ios源码">
  
  
    <meta name="description" content="It&#39;s Typeco&#39;s Blog!分享技术，分享快乐，记录点滴!">
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>
    设计模式之简单工厂模式 |
    
    Typeco</title>
  
    <link rel="shortcut icon" href="/favicon.ico">
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<script src="/js/pace.min.js"></script>

<meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="Typeco" type="application/atom+xml">
</head>

<body>
<main class="content">
  <section class="outer">
  <article id="post-设计模式之简单工厂模式" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>

    <div class="article-inner">
        
            <header class="article-header">
                
  
    <h1 class="article-title" itemprop="name">
      设计模式之简单工厂模式
    </h1>
  
  




            </header>
            

                
                    <div class="article-meta">
                        <a href="/posts/eeb5bd44/" class="article-date">
  <time datetime="2020-12-21T01:21:35.000Z" itemprop="datePublished">2020-12-21</time>
</a>
                            
                    </div>
                    

                        
                            
    <div class="tocbot"></div>





                                

                                    <div class="article-entry" itemprop="articleBody">
                                        


                                            
  <div class="article-gallery">
    <div class="article-gallery-photos">
      
        
          <img src="https://s3.ax1x.com/2020/12/21/rwZR8f.jpg" itemprop="image">
        
      
    </div>
  </div>


                                                
                                                                    <h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p><code>简单工厂模式</code> 属于创建型模式，在简单工厂模式中用于被创建实例的方法通常为<code>静态方法</code>,又叫<code>静态工厂方法</code> <a id="more"></a></p>
<h2 id="结构与业务场景"><a href="#结构与业务场景" class="headerlink" title="结构与业务场景"></a>结构与业务场景</h2><h3 id="工厂（Factory）"><a href="#工厂（Factory）" class="headerlink" title="工厂（Factory）"></a>工厂（Factory）</h3><p> <code>核心部分</code>，负责实现创建所有产品的内部逻辑，工厂类可以被外界直接调用，创建所需对象。</p>
<h3 id="抽象产品类（Product）"><a href="#抽象产品类（Product）" class="headerlink" title="抽象产品类（Product）"></a>抽象产品类（Product）</h3><p>工厂类所创建的所有对象的父类，封装了产品对象的公共方法，所有的具体产品为其子类对象</p>
<h3 id="具体产品类（ConcreteProduct）"><a href="#具体产品类（ConcreteProduct）" class="headerlink" title="具体产品类（ConcreteProduct）"></a>具体产品类（ConcreteProduct）</h3><p>简单工厂模式的创建目标，所有被创建的对象都是某个具体类的实例。它要实现抽象产品类中声明的方法。</p>
<h2 id="实际运用"><a href="#实际运用" class="headerlink" title="实际运用"></a>实际运用</h2><p>这里我以的<code>画板元素</code> 的实现作为案例进行讲述，如何实现简单工厂模式。我们的画板需要添加 <code>文本</code>、<code>条码</code>、  <code>二维码</code> 、<code>表格</code> 、<code>边框图形</code>、<code>流水号</code> 、<code>时间日期</code> 等等,那么针对这些元素他们都有<code>绘制</code>、<code>移动</code>、<code>缩放</code>、<code>旋转</code>、<code>辅助线</code>  等等功能，所以这些元素就是具体的实例，而这些动作就是抽象的方法实现。</p>
<ul>
<li>首先，我们不考虑工厂类，工厂类我们放到最后去实现，我们先实现 <code>抽象产品类</code> 在我的项目里我叫它 <code>JCElementBaseView</code>，这是一个抽象产品类，用户不用初始化它，即使你初始化它也没有意义，因为它并没有什么实质的东西展示，它能做的就是对子类提供重写的方法和实现。<div class="output_wrapper" id="output_wrapper_id" style="font-size: 16px; color: rgb(62, 62, 62); line-height: 1.6; word-spacing: 0px; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="hljs objectivec" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 15px; font-size: 11px; font-weight: normal; word-spacing: -3px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; background: rgb(34, 26, 15); color: rgb(211, 175, 134); padding: 0.5em; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-class" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">@class</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(240, 100, 49); word-wrap: inherit !important; word-break: inherit !important;">JCElementBaseView</span>;</span><br><span class="hljs-class" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">@protocol</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(240, 100, 49); word-wrap: inherit !important; word-break: inherit !important;">JCElementProtocol</span>&nbsp;&lt;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(240, 100, 49); word-wrap: inherit !important; word-break: inherit !important;">NSObject</span>&gt;</span><br><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">@optional</span><br>-&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">void</span>)elementViewTouchBegin:(JCElementBaseView&nbsp;*)element;<br>-&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">void</span>)elementViewDragBegin:(JCElementBaseView&nbsp;*)element;<br>-&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">void</span>)elementViewDoubleClick:(JCElementBaseView&nbsp;*)element;<br>-&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">void</span>)elementViewFrameShouldChange:(JCElementBaseView&nbsp;*)element;<br>-&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">void</span>)elementViewFrameDidChange:(JCElementBaseView&nbsp;*)element;<br>-&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">void</span>)elementViewDidClick:(JCElementBaseView&nbsp;*)element;<br><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">@end</span><br><br><span class="hljs-class" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">@interface</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(240, 100, 49); word-wrap: inherit !important; word-break: inherit !important;">JCElementBaseView</span>&nbsp;:&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(240, 100, 49); word-wrap: inherit !important; word-break: inherit !important;">UIView</span></span><br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(214, 186, 173); word-wrap: inherit !important; word-break: inherit !important;">/**&nbsp;旋转角度&nbsp;*/</span><br><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">@property</span>&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">nonatomic</span>,&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">assign</span>)&nbsp;<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">CGFloat</span>&nbsp;rotate;<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(214, 186, 173); word-wrap: inherit !important; word-break: inherit !important;">/**&nbsp;是否选中&nbsp;*/</span><br><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">@property</span>&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">nonatomic</span>,&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">assign</span>)&nbsp;<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">BOOL</span>&nbsp;selected;<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(214, 186, 173); word-wrap: inherit !important; word-break: inherit !important;">/**&nbsp;锁定&nbsp;*/</span><br><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">@property</span>&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">nonatomic</span>,&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">assign</span>)&nbsp;<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">BOOL</span>&nbsp;isLock;<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(214, 186, 173); word-wrap: inherit !important; word-break: inherit !important;">/**&nbsp;元素的id：时间戳，精确到毫秒&nbsp;*/</span><br><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">@property</span>&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">nonatomic</span>,&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">copy</span>)&nbsp;<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">NSString</span>&nbsp;*elementId;<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(214, 186, 173); word-wrap: inherit !important; word-break: inherit !important;">/**&nbsp;代理&nbsp;*/</span><br><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">@property</span>&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">nonatomic</span>,&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">weak</span>)&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">id</span>&lt;JCElementProtocol&gt;&nbsp;delegate;<br><br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(214, 186, 173); word-wrap: inherit !important; word-break: inherit !important;">/**&nbsp;for&nbsp;override&nbsp;*/</span><br>-&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">void</span>)zoomDragMoving:&nbsp;(<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">UIControl</span>&nbsp;*)&nbsp;c&nbsp;withEvent:touches;<br>-&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">void</span>)zoomDragOutside:&nbsp;(<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">UIControl</span>&nbsp;*)&nbsp;c&nbsp;withEvent:touches;<br>-&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">void</span>)zoomDragEnded:&nbsp;(<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">UIControl</span>&nbsp;*)&nbsp;c&nbsp;withEvent:touches;<br><br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(214, 186, 173); word-wrap: inherit !important; word-break: inherit !important;">/**&nbsp;元素最小宽度---子类实现&nbsp;毫米&nbsp;*/</span><br>-&nbsp;(<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">CGFloat</span>)minWidth_mm;<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(214, 186, 173); word-wrap: inherit !important; word-break: inherit !important;">/**&nbsp;元素最小高度---子类实现&nbsp;毫米&nbsp;*/</span><br>-&nbsp;(<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">CGFloat</span>)minHeight_mm;<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(214, 186, 173); word-wrap: inherit !important; word-break: inherit !important;">/**&nbsp;元素最大宽度---子类实现&nbsp;毫米&nbsp;*/</span><br>-&nbsp;(<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">CGFloat</span>)maxWidth_mm;<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(214, 186, 173); word-wrap: inherit !important; word-break: inherit !important;">/**&nbsp;元素最大高度---子类实现&nbsp;毫米&nbsp;*/</span><br>-&nbsp;(<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">CGFloat</span>)maxHeight_mm;<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(214, 186, 173); word-wrap: inherit !important; word-break: inherit !important;">/**&nbsp;获取旋转角度为0时的frame&nbsp;*/</span><br>-&nbsp;(<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">CGRect</span>)getOrignalFrame;<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(214, 186, 173); word-wrap: inherit !important; word-break: inherit !important;">/**&nbsp;刷新图像&nbsp;*/</span><br>-&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">void</span>)reloadSDKImage;<br><br><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">@end</span><br></code></pre></div></li>
<li>接下来就是针对我们特定的元素的一些特定的实现一一去构建子类（<code>具体产品类</code>），这里我们以 <code>条码</code> 为例作为大概展示其子类是如何实现的,基本可以看出，都是以实现<code>抽象父类</code> 的方法为主。<div class="output_wrapper" id="output_wrapper_id" style="font-size: 16px; color: rgb(62, 62, 62); line-height: 1.6; word-spacing: 0px; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="hljs objectivec" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 15px; font-size: 11px; font-weight: normal; word-spacing: -3px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; background: rgb(34, 26, 15); color: rgb(211, 175, 134); padding: 0.5em; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-class" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">@implementation</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(240, 100, 49); word-wrap: inherit !important; word-break: inherit !important;">JCElementBarCode</span></span><br><br>-&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">instancetype</span>)init&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>&nbsp;=&nbsp;[<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">super</span>&nbsp;init])&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>.backgroundColor&nbsp;=&nbsp;[<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">UIColor</span>&nbsp;clearColor];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>&nbsp;initUI];<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">return</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>;<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">void</span>)initUI&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>&nbsp;insertSubview:<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>.barCodeImageView&nbsp;atIndex:<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">0</span>];<br>&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>.barCodeImageView&nbsp;mas_remakeConstraints:^(MASConstraintMaker&nbsp;*make)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;make.size.equalTo(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;make.top.left.equalTo(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;}];<br>&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>.barCodeImageView&nbsp;addSubview:<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>.errorButton];<br>&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>.errorButton&nbsp;mas_makeConstraints:^(MASConstraintMaker&nbsp;*make)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;make.size.mas_equalTo((<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">CGSize</span>){<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">116</span>,<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">24</span>});<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;make.center.equalTo(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>.barCodeImageView);<br>&nbsp;&nbsp;&nbsp;&nbsp;}];<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">void</span>)reloadSDKImage&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">NSString</span>&nbsp;*value&nbsp;=&nbsp;[DrawBoardInfo&nbsp;currentValueFor:<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>.excelValue&nbsp;selectRowIndex:<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>.excelIndex&nbsp;elementId:<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>.elementId];<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;(IsExcelString(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>.excelValue))&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_text&nbsp;=&nbsp;value;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(214, 186, 173); word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;resize</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">CGFloat</span>&nbsp;minWidth&nbsp;=&nbsp;[<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>&nbsp;minWidth_mm]*DrawBoardInfo.mm2pxScale;<br>&nbsp;&nbsp;&nbsp;&nbsp;rotate(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>.width&nbsp;&lt;&nbsp;minWidth)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>.width&nbsp;=&nbsp;minWidth;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br>&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>&nbsp;drawBarCodeImage];<br>}<br><br><span class="hljs-meta" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(220, 57, 88); word-wrap: inherit !important; word-break: inherit !important;">#pragma&nbsp;mark&nbsp;--&nbsp;set</span><br>-&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">void</span>)setText:(<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">NSString</span>&nbsp;*)text&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;_text&nbsp;=&nbsp;text;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(214, 186, 173); word-wrap: inherit !important; word-break: inherit !important;">/**&nbsp;根据文本画一维码&nbsp;*/</span><br>&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>&nbsp;reloadSDKImage];<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">void</span>)setConfigure:(JCElementBarCodeConfigure&nbsp;*)configure&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;_configure&nbsp;=&nbsp;configure;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(214, 186, 173); word-wrap: inherit !important; word-break: inherit !important;">/**&nbsp;根据条码类型重新布局&nbsp;*/</span><br>&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>&nbsp;drawBarCodeImage];<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">void</span>)setExcelIndex:(<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">NSInteger</span>)excelIndex&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">super</span>&nbsp;setExcelIndex:excelIndex];<br>&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>&nbsp;reloadSDKImage];<br>}<br><br><span class="hljs-meta" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(220, 57, 88); word-wrap: inherit !important; word-break: inherit !important;">#pragma&nbsp;mark&nbsp;--&nbsp;getImage</span><br>-&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">void</span>)drawBarCodeImage&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;(!<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>.text&nbsp;||&nbsp;!<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>.configure)&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">return</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;[JCDrawCodeManager&nbsp;drawBarCodeWithElement:<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>&nbsp;result:^(<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">BOOL</span>&nbsp;success,&nbsp;<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">UIImage</span>&nbsp;*&nbsp;_Nonnull&nbsp;image,&nbsp;<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">NSString</span>&nbsp;*&nbsp;_Nonnull&nbsp;errorMsg)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>.barCodeImageView.image&nbsp;&nbsp;=&nbsp;image;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>&nbsp;showErrorMsg:errorMsg];<br>&nbsp;&nbsp;&nbsp;&nbsp;}];<br>}<br><br><span class="hljs-meta" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(220, 57, 88); word-wrap: inherit !important; word-break: inherit !important;">#pragma&nbsp;mark&nbsp;-&nbsp;&nbsp;DragMove</span><br>-&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">void</span>)zoomDragMoving:&nbsp;(<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">UIControl</span>&nbsp;*)&nbsp;c&nbsp;withEvent:touches&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">super</span>&nbsp;zoomDragMoving:c&nbsp;withEvent:touches];<br>&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>&nbsp;drawBarCodeImage];<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">void</span>)zoomDragOutside:&nbsp;(<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">UIControl</span>&nbsp;*)&nbsp;c&nbsp;withEvent:touches&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">super</span>&nbsp;zoomDragOutside:c&nbsp;withEvent:touches];<br>&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>&nbsp;drawBarCodeImage];<br>}<br><br>-&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">void</span>)zoomDragEnded:&nbsp;(<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">UIControl</span>&nbsp;*)&nbsp;c&nbsp;withEvent:touches&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">super</span>&nbsp;zoomDragEnded:c&nbsp;withEvent:touches];<br>&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>&nbsp;drawBarCodeImage];<br>}<br><br><span class="hljs-meta" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(220, 57, 88); word-wrap: inherit !important; word-break: inherit !important;">#pragma&nbsp;mark&nbsp;--&nbsp;lazy</span><br>-&nbsp;(<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">UIImageView</span>&nbsp;*)barCodeImageView&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;(!_barCodeImageView)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_barCodeImageView&nbsp;=&nbsp;[[<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">UIImageView</span>&nbsp;alloc]&nbsp;init];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_barCodeImageView.contentMode&nbsp;=&nbsp;<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">UIViewContentModeScaleToFill</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_barCodeImageView.backgroundColor&nbsp;=&nbsp;[<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">UIColor</span>&nbsp;clearColor];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(214, 186, 173); word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;最近邻居算法，图像放大不模糊</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_barCodeImageView.layer.magnificationFilter&nbsp;=&nbsp;kCAFilterNearest;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">return</span>&nbsp;_barCodeImageView;<br>}<br><br><span class="hljs-meta" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(220, 57, 88); word-wrap: inherit !important; word-break: inherit !important;">#pragma&nbsp;mark&nbsp;--&nbsp;FrameProtocol</span><br>-&nbsp;(<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">CGFloat</span>)minWidth_mm&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>.configure.codeType&nbsp;==&nbsp;JCCodeType_EAN13)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">return</span>&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">13</span>*<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">2</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">else</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>.configure.codeType&nbsp;==&nbsp;JCCodeType_EAN8)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">return</span>&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">7</span>*<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">2</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">else</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>.configure.codeType&nbsp;==&nbsp;JCCodeType_UPCA)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">return</span>&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">11</span>*<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">2</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">else</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>.configure.codeType&nbsp;==&nbsp;JCCodeType_UPCE)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">return</span>&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">7</span>*<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">2</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">else</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>.configure.codeType&nbsp;==&nbsp;JCCodeType_ITF25&nbsp;||&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>.configure.codeType&nbsp;==&nbsp;JCCodeType_CODEBAR)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">return</span>&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">2</span>*<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">2</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">else</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">return</span>&nbsp;MAX(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>.text.length*<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">2</span>,<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">2</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br><br>-&nbsp;(<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">CGFloat</span>)minHeight_mm&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">return</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">self</span>.configure.textHeight&nbsp;+&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">3</span>;<br>}<br><br>-&nbsp;(<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">CGFloat</span>)maxWidth_mm&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">return</span>&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">200</span>;<br>}<br><br>-&nbsp;(<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">CGFloat</span>)maxHeight_mm&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">return</span>&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">100</span>;<br>}<br></code></pre></div></li>
<li>既然具体产品类都有了，剩下就是构建 <code>工厂类</code> ，这里我是用的一个单独的<code>Manager</code> 的类来实现元素的构建的 <code>JCDefaultElementManager</code>。<div class="output_wrapper" id="output_wrapper_id" style="font-size: 16px; color: rgb(62, 62, 62); line-height: 1.6; word-spacing: 0px; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="hljs php" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 15px; font-size: 11px; font-weight: normal; word-spacing: -3px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; background: rgb(34, 26, 15); color: rgb(211, 175, 134); padding: 0.5em; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;">@implementation&nbsp;JCDefaultElementManager<br><br>+&nbsp;(JCElementBaseView&nbsp;*)defaultElementWithClass:(<span class="hljs-class" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">Class</span>)<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(240, 100, 49); word-wrap: inherit !important; word-break: inherit !important;">eClass</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;CGFloat&nbsp;mm2pxScale&nbsp;=&nbsp;DrawBoardInfo.mm2pxScale;<br>&nbsp;&nbsp;&nbsp;&nbsp;JCElementBaseView&nbsp;*element;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;([eClass&nbsp;isEqual:[JCElementText&nbsp;<span class="hljs-class" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">class</span>]])&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JCElementText&nbsp;*temp&nbsp;=&nbsp;[JCElementText&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">new</span>];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp.placeHolder&nbsp;=&nbsp;XY_LANGUAGE_TITLE_NAMED(@<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(136, 155, 74); word-wrap: inherit !important; word-break: inherit !important;">""</span>,element_text_placeholder);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp.text&nbsp;=&nbsp;@<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(136, 155, 74); word-wrap: inherit !important; word-break: inherit !important;">""</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp.configure&nbsp;=&nbsp;[JCElementTextConfigure&nbsp;defaultConfigure];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp.frame&nbsp;=&nbsp;(CGRect){<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">10</span>,<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">10</span>,<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">4</span>*DrawBoardInfo.mm2pxScale*text_default_font_mm_size,<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">24</span>};<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;element&nbsp;=&nbsp;temp;<br>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">else</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;([eClass&nbsp;isEqual:[JCElementTextImage&nbsp;<span class="hljs-class" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">class</span>]])&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JCElementTextImage&nbsp;*temp&nbsp;=&nbsp;[JCElementTextImage&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">new</span>];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp.frame&nbsp;=&nbsp;(CGRect){<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">10</span>,<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">10</span>,<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">4.2</span>*DrawBoardInfo.mm2pxScale*text_default_font_mm_size,<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">24</span>};<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp.placeHolder&nbsp;=&nbsp;XY_LANGUAGE_TITLE_NAMED(@<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(136, 155, 74); word-wrap: inherit !important; word-break: inherit !important;">""</span>,element_text_placeholder);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp.text&nbsp;=&nbsp;XY_LANGUAGE_TITLE_NAMED(@<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(136, 155, 74); word-wrap: inherit !important; word-break: inherit !important;">""</span>,element_text_placeholder);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp.configure&nbsp;=&nbsp;[JCElementTextConfigure&nbsp;defaultConfigure];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;element&nbsp;=&nbsp;temp;<br>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">else</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;([eClass&nbsp;isEqual:[JCElementBarCode&nbsp;<span class="hljs-class" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">class</span>]])&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JCElementBarCode&nbsp;*temp&nbsp;=&nbsp;[JCElementBarCode&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">new</span>];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp.frame&nbsp;=&nbsp;(CGRect){<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">10</span>,<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">10</span>,<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">20</span>*DrawBoardInfo.mm2pxScale,<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">10</span>*DrawBoardInfo.mm2pxScale};<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp.configure&nbsp;=&nbsp;[JCElementBarCodeConfigure&nbsp;defaultConfigure];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp.text&nbsp;=&nbsp;@<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(136, 155, 74); word-wrap: inherit !important; word-break: inherit !important;">"123456"</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;element&nbsp;=&nbsp;temp;<br>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">else</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;([eClass&nbsp;isEqual:[JCElementQRCode&nbsp;<span class="hljs-class" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">class</span>]])&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JCElementQRCode&nbsp;*temp&nbsp;=&nbsp;[JCElementQRCode&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">new</span>];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp.frame&nbsp;=&nbsp;(CGRect){<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">10</span>,<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">10</span>,<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">10</span>*mm2pxScale,<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">10</span>*mm2pxScale};<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp.codeType&nbsp;=&nbsp;JCCodeType_QRCODE;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp.qrCodeString&nbsp;=&nbsp;@<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(136, 155, 74); word-wrap: inherit !important; word-break: inherit !important;">"123456"</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;element&nbsp;=&nbsp;temp;<br>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">else</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;([eClass&nbsp;isEqual:[JCElementGraph&nbsp;<span class="hljs-class" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">class</span>]])&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JCElementGraph&nbsp;*temp&nbsp;=&nbsp;[JCElementGraph&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">new</span>];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp.frame&nbsp;=&nbsp;(CGRect){<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">10</span>,<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">10</span>,<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">10</span>*DrawBoardInfo.mm2pxScale,<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">10</span>*DrawBoardInfo.mm2pxScale};<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp.configure&nbsp;=&nbsp;[JCEleBoxConfigure&nbsp;defaultConfigure];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;element&nbsp;=&nbsp;temp;<br>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">else</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;([eClass&nbsp;isEqual:[JCElementSerialNumber&nbsp;<span class="hljs-class" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">class</span>]])&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JCElementSerialNumber&nbsp;*temp&nbsp;=&nbsp;[JCElementSerialNumber&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">new</span>];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp.frame&nbsp;=&nbsp;(CGRect){<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">10</span>,<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">10</span>,<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">145</span>,<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">58</span>};<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp.styleConfigure&nbsp;=&nbsp;[JCSerialStyleConfigure&nbsp;defaultConfigure];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JCElementTextConfigure&nbsp;*configure&nbsp;=&nbsp;[JCElementTextConfigure&nbsp;defaultConfigure];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;configure.textAlignment&nbsp;=&nbsp;NSTextAlignmentCenter;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp.configure&nbsp;=&nbsp;configure;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;element&nbsp;=&nbsp;temp;<br>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">else</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;([eClass&nbsp;isEqual:[JCElementTime&nbsp;<span class="hljs-class" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">class</span>]])&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JCElementTime&nbsp;*temp&nbsp;=&nbsp;[JCElementTime&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">new</span>];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp.frame&nbsp;=&nbsp;(CGRect){<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">10</span>,<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">10</span>,<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">200</span>,<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">29</span>};<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp.timeConfigure&nbsp;=&nbsp;[JCEleTimeConfigure&nbsp;defaultConfigure];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp.configure&nbsp;=&nbsp;[JCElementTextConfigure&nbsp;defaultConfigure];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;element&nbsp;=&nbsp;temp;<br>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">else</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;([eClass&nbsp;isEqual:[JCElementSheet&nbsp;<span class="hljs-class" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">class</span>]])&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JCElementSheet&nbsp;*temp&nbsp;=&nbsp;[JCElementSheet&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">new</span>];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp.configure&nbsp;=&nbsp;[JCSheetConfigure&nbsp;defaultConfigure];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp.left&nbsp;=&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">10</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp.top&nbsp;=&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">10</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;element&nbsp;=&nbsp;temp;<br>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">else</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;([eClass&nbsp;isEqual:[JCElementLogoView&nbsp;<span class="hljs-class" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">class</span>]])&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JCElementLogoView&nbsp;*temp&nbsp;=&nbsp;[JCElementLogoView&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">new</span>];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;element&nbsp;=&nbsp;temp;<br>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">else</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;([eClass&nbsp;isEqual:[JCElementLine&nbsp;<span class="hljs-class" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">class</span>]])&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JCElementLine&nbsp;*temp&nbsp;=&nbsp;[[JCElementLine&nbsp;alloc]&nbsp;init];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp.frame&nbsp;=&nbsp;(CGRect){<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">10</span>,<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">10</span>,<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">10</span>*DrawBoardInfo.mm2pxScale,<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">0.4</span>*DrawBoardInfo.mm2pxScale};<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp.configure&nbsp;=&nbsp;[JCEleLineConfigure&nbsp;defaultConfigure];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;element&nbsp;=&nbsp;temp;<br>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;NSInteger&nbsp;count&nbsp;=&nbsp;DrawBoardInfo.addElementIndex;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;(count&nbsp;&gt;&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">8</span>)&nbsp;count&nbsp;=&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">1</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">if</span>(count&nbsp;==&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">0</span>){<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;element.left&nbsp;=&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">10</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;element.top&nbsp;=&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">10</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">else</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;element.left&nbsp;=&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">10</span>&nbsp;+&nbsp;count*<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">16</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;element.top&nbsp;=&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">10</span>&nbsp;+&nbsp;count*<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(247, 154, 50); word-wrap: inherit !important; word-break: inherit !important;">16</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(214, 186, 173); word-wrap: inherit !important; word-break: inherit !important;">/**&nbsp;设置时间戳&nbsp;*/</span><br>&nbsp;&nbsp;&nbsp;&nbsp;element.elementId&nbsp;=&nbsp;[XYTool&nbsp;randomElementId];<br>&nbsp;&nbsp;&nbsp;&nbsp;DrawBoardInfo.addElementIndex++;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">return</span>&nbsp;element;<br>}<br></code></pre></div>

</li>
</ul>
<p>工厂类就很简单了，用户只用关心需要创建什么类型的元素，直接传入相应元素的 <code>类名</code> 即可，也很显然这个是静态方法，所以也叫 <code>静态工厂类</code>，接下来我们来看看业务场景中用户究竟是如何创建和使用元素的:</p>
<div class="output_wrapper" id="output_wrapper_id" style="font-size: 16px; color: rgb(62, 62, 62); line-height: 1.6; word-spacing: 0px; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;"><pre style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;"><code class="hljs cs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 15px; font-size: 11px; font-weight: normal; word-spacing: -3px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; background: rgb(34, 26, 15); color: rgb(211, 175, 134); padding: 0.5em; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;">-(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">void</span>)add_wenben{<br>&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-meta" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(220, 57, 88); word-wrap: inherit !important; word-break: inherit !important;">self&nbsp;addElement:Element(JCElementTextImage)</span>];<br>}<br><br>-(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">void</span>)add_yiweima{<br>&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-meta" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(220, 57, 88); word-wrap: inherit !important; word-break: inherit !important;">self&nbsp;addElement:Element(JCElementBarCode)</span>];<br>}<br><br>-(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">void</span>)add_erweima{<br>&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-meta" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(220, 57, 88); word-wrap: inherit !important; word-break: inherit !important;">self&nbsp;addElement:Element(JCElementQRCode)</span>];<br>}<br><br>-(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">void</span>)add_liushuihao{<br>&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-meta" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(220, 57, 88); word-wrap: inherit !important; word-break: inherit !important;">self&nbsp;addElement:Element(JCElementSerialNumber)</span>];<br>}<br><br>-(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">void</span>)add_shijian{<br>&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-meta" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(220, 57, 88); word-wrap: inherit !important; word-break: inherit !important;">self&nbsp;addElement:Element(JCElementTime)</span>];<br>}<br><br>-(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">void</span>)add_xingzhuang{<br>&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-meta" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(220, 57, 88); word-wrap: inherit !important; word-break: inherit !important;">self&nbsp;addElement:Element(JCElementGraph)</span>];<br>}<br><br>-(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 103, 106); word-wrap: inherit !important; word-break: inherit !important;">void</span>)add_xiantiao{<br>&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-meta" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(220, 57, 88); word-wrap: inherit !important; word-break: inherit !important;">self&nbsp;addElement:Element(JCElementLine)</span>];<br>}<br></code></pre></div>

<p>是不是及其简单和清爽，需要往画板上添加一个元素，直接简单的调用一行代码指定一个元素类名即可实现，不用关心内部如何实现的，即使对<code>缩放</code>等操作过程需要了解，我们也提供了相应的 <code>代理</code>，这些都是基于自己的业务需求进行扩展，任何一个<code>设计模式</code> 都不是 <code>为了设计而设计</code>,我们要为了更简单更快速的处理我们的业务需求，这才是根本。</p>
<h2 id="简单工厂优缺点和适用环境"><a href="#简单工厂优缺点和适用环境" class="headerlink" title="简单工厂优缺点和适用环境"></a>简单工厂优缺点和适用环境</h2><h3 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h3><ul>
<li>用户只需要知道具体工厂的名称即可得到所要的产品，无需知道具体产品的创建过程。</li>
<li>工厂类包含必要的判断逻辑，可以决定在什么时候创建哪一个产品的实例，客户端可以免除直接创建产品对象的职责。（可以结合反射等思想，配置文件等等更加优化实现）</li>
<li>灵活性强，对于新产品的创建，只需多写一个相应的工厂类</li>
<li>典型的解耦框架，高层模块只需要知道产品的抽象类，无需关心其他实现类</li>
</ul>
<h3 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h3><ul>
<li>类的个数容易过多，增加复杂度</li>
<li>增加了系统的抽象性和理解难度</li>
<li>抽象产品只能生产一种产品，此弊端可使用 <code>抽象工厂模式</code> 来解决</li>
</ul>
<h3 id="适用环境"><a href="#适用环境" class="headerlink" title="适用环境"></a>适用环境</h3><ul>
<li>工厂类负责创建对象比较少，因为这样不会造成工厂方法中的业务逻辑过于负责，比如上述的画板案例中，元素的种类就是那么多，不会无限制的进行扩张，在可预见范围内都是可以接受的。</li>
<li>客户端只知道传入工厂类的参数，对于如何创建对象并不关心，俗称只管拿去用。</li>
</ul>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>我们使用设计模式的目的无非就是三个</p>
<ul>
<li>缩短开发时间</li>
<li>降低维护成本</li>
<li>在应用程序之间和内部轻松集成，减少耦合</li>
</ul>
<p>具体什么时候使用何种设计模式因项目和业务需求而不同，这是个人针对<code>设计模式</code> 的第一篇文章，后续还会针对性的出一些个人对其他设计模式的理解和应用，之所以写这系列的文章也是希望能对自己的架构之路有所提升，同时如果能帮助到其他人就更好了。</p>

                                                                        
                                    </div>
                                    <footer class="article-footer">
                                        <!-- <a data-url="http://typeco.cn/posts/eeb5bd44/" data-id="ckj06gl2y00302ti9eyc356cf" class="article-share-link">
                                            分享
                                        </a> -->
                                        
                                            <div style="text-align:center;color: #ccc;font-size:14px;">------------- 本文结束&nbsp;<i class="fe fe-smile"></i>&nbsp;感谢您的阅读 -------------</div>
                                        
                                        
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">设计模式</a></li></ul>

                                    </footer>

    </div>

    
        
  <nav class="article-nav">
    
      <a href="/posts/99c8c8b1/" class="article-nav-link">
        <strong class="article-nav-caption">前一篇</strong>
        <div class="article-nav-title">
          
            设计模式之策略模式
          
        </div>
      </a>
    
    
      <a href="/posts/4c2cf919/" class="article-nav-link">
        <strong class="article-nav-caption">后一篇</strong>
        <div class="article-nav-title">OpenGL：正背面剔除、深度测试</div>
      </a>
    
  </nav>


            

                
                    
    <div class="vcomments" id="vcomments"></div>
    
<script src="https://unpkg.com/valine/dist/Valine.min.js"></script>

        <script>
            new Valine({
                el: '#vcomments',
                appId: 't2cDQfB0X6lIO2MruIMwGv7p-gzGzoHsz',
                appKey: 'dUALGx7KEqTByT6fTlQ47xJf',
                notify: 'false',
                verify: 'true',
                avatar: 'monsterid',
                pageSize: '10',
                placeholder: '记得留下您的昵称和邮箱...可以快速收到回复ヾﾉ≧∀≦)o'
            })
        </script>
        
                        
                            

</article>
</section>
  <footer class="footer">
  <div class="outer">
    <div class="float-right">
      <ul class="list-inline">
  
    <li><i class="fe fe-smile-alt"></i> <span id="busuanzi_value_site_uv"></span></li>
  
    <li><i class="fe fe-bookmark"></i> <span id="busuanzi_value_page_pv"></span></li>
  
</ul>
    </div>
    <ul class="list-inline">
      <li>&copy; 2020 Typeco</li>
      <li>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></li>
      <li>Theme  <a href="https://github.com/zhwangart/hexo-theme-ocean" target="_blank" rel="noopener">Ocean</a></li>
    </ul>
  </div>
</footer>

</main>
<aside class="sidebar">
  <button class="navbar-toggle"></button>
<nav class="navbar">
  
    <div class="logo">
      <a href="/"><img src="/images/hexo.svg" alt="Typeco"></a>
    </div>
  
  <ul class="nav nav-main">
    
      <li class="nav-item">
        <a class="nav-item-link" href="/">首页</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/archives">归档</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/gallery">相册</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/about">关于</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/links">链接</a>
      </li>
    
    <li class="nav-item">
      <a class="nav-item-link nav-item-search" title="搜索">
        <i class="fe fe-search"></i>
        搜索
      </a>
    </li>
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      <div class="totop" id="totop">
  <i class="fe fe-rocket"></i>
</div>
    </li>
    <li class="nav-item">
      
        <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
          <i class="fe fe-feed"></i>
        </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
</aside>

<script src="/js/jquery-2.0.3.min.js"></script>


<script src="/js/jquery.justifiedGallery.min.js"></script>


<script src="/js/lazyload.min.js"></script>


<script src="/js/busuanzi-2.3.pure.min.js"></script>


  
<script src="/fancybox/jquery.fancybox.min.js"></script>




  
<script src="/js/tocbot.min.js"></script>

  <script>
    // Tocbot_v4.7.0  http://tscanlin.github.io/tocbot/
    tocbot.init({
      tocSelector: '.tocbot',
      contentSelector: '.article-entry',
      headingSelector: 'h1, h2, h3, h4, h5, h6',
      hasInnerContainers: true,
      scrollSmooth: true,
      positionFixedSelector: '.tocbot',
      positionFixedClass: 'is-position-fixed',
      fixedSidebarOffset: 'auto',
    });
  </script>



<script src="/js/ocean.js"></script>


</body>
</html>